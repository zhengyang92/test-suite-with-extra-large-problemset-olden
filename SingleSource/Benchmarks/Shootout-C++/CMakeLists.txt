llvm_target_prefix("shootout-cxx")
list(APPEND CXXFLAGS -Wno-deprecated)
list(APPEND CPPFLAGS -Wno-deprecated)
set(FP_TOLERANCE 0.00000001)
if(ARCH STREQUAL "XCore")
  if(NOT DEFINED SMALL_PROBLEM_SIZE)
    set(XCORE_TARGET_NEEDS_MEMORY 256)
    set(RUNTIMELIMIT 10800)
  endif()
endif()
if(TEST_SUITE_BENCHMARKING_ONLY)
  list(APPEND PROGRAMS_TO_SKIP hello reversefile spellcheck sumcol wc wordfreq)
endif()
list(APPEND LDFLAGS -lstdc++ -lm)
if(TARGET_OS STREQUAL "Darwin")
  # Necessary for ackermann on iOS
  list(APPEND LDFLAGS -Xlinker -stack_size -Xlinker 0x800000)
endif()
llvm_singlesource()

llvm_add_subdirectories(EH)

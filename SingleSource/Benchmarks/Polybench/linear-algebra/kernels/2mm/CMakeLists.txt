set(POLYBENCH_UTILS SingleSource/Benchmarks/Polybench/utilities )
set(PROG 2mm)
list(APPEND CFLAGS -I ${CMAKE_SOURCE_DIR}/${POLYBENCH_UTILS} -DPOLYBENCH_DUMP_ARRAYS)
if(DEFINED SMALL_PROBLEM_SIZE)
  list(APPEND CFLAGS -DSMALL_DATASET)
else()
  if(ARCH STREQUAL "XCore")
    set(XCORE_TARGET_NEEDS_MEMORY 64)
  endif()
endif()
if(ARCH STREQUAL "Mips")
  set(RUNTIMELIMIT 2000)
elseif(ARCH STREQUAL "XCore")
else()
  set(RUNTIMELIMIT 1000)
endif()
set(HASH_PROGRAM_OUTPUT 1)
llvm_singlesource()
